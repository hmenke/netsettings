[general]
metadata = ~/.local/var/offlineimap
pythonfile = ~/.config/offlineimap/credentials.py
accounts = GMail

[mbnames]
enabled = yes
filename = ~/.config/mutt/mbnames
header = "mailboxes "
peritem = "+%(foldername)s"
sep = " "
footer = "\n"

[Account GMail]
localrepository = LocalGMail
remoterepository = RemoteGMail
synclabels = yes
postsynchook = notmuch new

[Repository LocalGMail]
type = GmailMaildir
localfolders = ~/.local/share/offlineimap/GMail
sep = /

[Repository RemoteGMail]
type = Gmail
remoteusereval = get_username("imap.gmail.com")
remotepasseval = get_password("imap.gmail.com")
# Necessary as of OfflineIMAP 6.5.4
sslcacertfile = /etc/ssl/certs/ca-certificates.crt
# Necessary to work around https://github.com/OfflineIMAP/offlineimap/issues/573 (versions 7.0.12, 7.2.1)
ssl_version = tls1_2

